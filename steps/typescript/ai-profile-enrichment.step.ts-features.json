[
  {
    "id": "step-configuration",
    "title": "Step Configuration",
    "description": "Event Step that subscribes to pet.created events and automatically enriches pet profiles with AI-generated content.",
    "lines": ["4-11"]
  },
  {
    "id": "api-key-check",
    "title": "API Key Validation",
    "description": "Checks for the OpenAI API key in environment variables before making AI requests.",
    "lines": ["24-28"]
  },
  {
    "id": "ai-prompt",
    "title": "AI Prompt Generation",
    "description": "Creates a detailed prompt asking the AI to generate an adoption-focused profile with bio, breed guess, temperament tags, and adopter hints.",
    "lines": ["30-41"]
  },
  {
    "id": "openai-call",
    "title": "OpenAI API Call",
    "description": "Calls OpenAI's GPT-3.5 model to generate the pet profile using the prepared prompt.",
    "lines": ["43-76"]
  },
  {
    "id": "response-parsing",
    "title": "Response Parsing",
    "description": "Parses the AI's JSON response, with fallback to a default profile if parsing fails.",
    "lines": ["78-94"]
  },
  {
    "id": "profile-update",
    "title": "Profile Update",
    "description": "Updates the pet record in the store with the AI-generated profile information.",
    "lines": ["96-113"]
  },
  {
    "id": "error-handling",
    "title": "Error Handling with Fallback",
    "description": "Catches any errors during AI enrichment and creates a basic fallback profile to ensure pets always have profile data.",
    "lines": ["118-138"]
  }
]
